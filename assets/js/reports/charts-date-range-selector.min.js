jQuery.fn.extend({dlm_reports_date_range:function(t,e,a){return new DLM_Reports_Date_Range_Selector(this,t,e,a),this}});var DLM_Reports_Date_Range_Selector=function(t,e,a,n){this.container=t,this.startDate=new Date(e),this.endDate=new Date(a),this.url=n,this.el=null,this.opened=!1,this.startDateInput=null,this.endDateInput=null,this.setup=function(){var t=this;this.container.click(function(){return t.toggleDisplay(),!1})},this.setup()};DLM_Reports_Date_Range_Selector.prototype.toggleDisplay=function(){this.opened?this.hide():this.display()},DLM_Reports_Date_Range_Selector.prototype.display=function(){if(!this.opened){this.opened=!0,this.el=this.createElement(),this.container.append(c);jQuery("#dlm-date-range-picker").dateRangePicker({separator:" to ",getValue:function(){return this.el.startDateInput.val()&&this.el.endDateInput.val()?this.el.startDateInput.val()+" to "+this.el.endDateInput.val():""},setValue:function(t,e,a){this.el.startDateInput.val(e),this.el.endDateInput.val(a)}})}},DLM_Reports_Date_Range_Selector.prototype.hide=function(){this.opened=!1,this.el.remove()},DLM_Reports_Date_Range_Selector.prototype.apply=function(){var t=new Date(this.startDateInput.val()+"T00:00:00"),e=new Date(this.endDateInput.val()+"T00:00:00"),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.hide(),window.location.replace(this.url+"&date_from="+a+"&date_to="+n)},DLM_Reports_Date_Range_Selector.prototype.createElement=function(){var t=this,e=jQuery("<div>").addClass("dlm_rdrs_overlay"),a=jQuery("<div>").addClass("dlm_rdrs_date").attr("id","dlm_rdrs_date_start"),n=jQuery("<div>").addClass("dlm_rdrs_date").attr("id","dlm_rdrs_date_end");this.startDateInput=jQuery("<input>").attr("type","hidden"),this.endDateInput=jQuery("<input>").attr("type","hidden");var r=jQuery("<div>").addClass("dlm_rdrs_actions"),s=jQuery("<a>").addClass("button").html("Apply").click(function(){return t.apply(),!1}),i=jQuery("<ul>").addClass("date-preset-list"),l=jQuery("<li>").html("Yesterday").attr("date-range","yesterday"),d=jQuery("<li>").html("Last 7 Days").attr("date-range","last 7 days"),p=(d=jQuery("<li>").html("Last 30 Days").attr("date-range","last 30 days"),jQuery("<li>").html("This Month").attr("date-range","this month")),o=jQuery("<li>").html("Last Month").attr("date-range","last month"),u=jQuery("<li>").html("This year").attr("date-range","this year"),h=jQuery("<li>").html("All Time").attr("date-range","all time");return r.append(s),i.append(l).append(d).append(p).append(o).append(u).append(h),e.append(i).append(a).append(n).append(this.startDateInput).append(this.endDateInput),e.click(function(){return!1}),e};