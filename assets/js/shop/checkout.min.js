jQuery(function(a){function b(b,c){for(var d=0;d<c.length;d++)a(b).find("#dlm_"+c[d]).addClass("dlm-checkout-field-error")}function c(b){a(b).find(".dlm-checkout-field-error").removeClass("dlm-checkout-field-error")}function d(b){a(b).find("#dlm_checkout_submit").attr("disabled",!0);var c=a("<div>").addClass("dlm-checkout-overlay-bg"),d=a("<div>").addClass("dlm-checkout-overlay");d.append(a("<h2>").html(dlm_strings.overlay_title)),d.append(a("<span>").html(dlm_strings.overlay_body)),d.append(a("<img>").attr("src",dlm_strings.overlay_img_src)),a("body").append(c),a("body").append(d),c.fadeIn(300,function(){d.css("display","block").css("top","47%"),d.animate({top:"+=3%"},300)})}function e(b){var c=a(".dlm-checkout-overlay:first"),d=a(".dlm-checkout-overlay-bg:first");c.fadeOut(300,function(){c.remove()}),d.fadeOut(300,function(){d.remove(),a(b).find("#dlm_checkout_submit").attr("disabled",!1)})}a("#dlm-form-checkout").submit(function(f){var g=a(this);c(g),d(g);for(var h={first_name:a(this).find("#dlm_first_name").val(),last_name:a(this).find("#dlm_last_name").val(),company:a(this).find("#dlm_company").val(),email:a(this).find("#dlm_email").val(),address_1:a(this).find("#dlm_address_1").val(),postcode:a(this).find("#dlm_postcode").val(),city:a(this).find("#dlm_city").val(),country:a(this).find("#dlm_country").val()},i={payment_gateway:a("input[name=dlm_gateway]:checked",a(this)).val(),customer:h},j=[],k=!0,l=0;l<dlm_strings.required_fields.length;l++)""===h[dlm_strings.required_fields[l]]&&(k=!1,j.push(dlm_strings.required_fields[l]));return!1===k?(b(g,j),e(g),!1):(a.post(dlm_strings.ajax_url_place_order,i,function(a){if(!0===a.success&&void 0!==a.redirect)return window.location.replace(a.redirect),!1;e(g)}),!1)})});