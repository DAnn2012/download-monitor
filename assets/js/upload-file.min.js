jQuery(function(a){let o=[];function n(e,l){l=l.attachment.attributes.url;const d=jQuery(e.settings.browse_button).parents("td").find("textarea");let t=d.val();t=t?t+"\n"+l:l,d.val(t)}a(".dlm_upload_file").each((e,l)=>{o.push(a(l));const d={browser:a(l),plupload:{multi_selection:!1},params:{type:"dlm_download"}},t=new wp.Uploader(d);t.uploader.bind("FileUploaded",n)}),a(document).on("dlm_new_file_added",()=>{a(".dlm_upload_file").each((e,l)=>{if(o.includes(a(l)))return!0;o.push(a(l));const d={browser:a(l),plupload:{multi_selection:!1},params:{type:"dlm_download"}},t=new wp.Uploader(d);t.uploader.bind("FileUploaded",n)})})});